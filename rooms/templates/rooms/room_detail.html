{% extends 'base.html' %}
{% load bootstrap4 %}
{% load static %}
{% block body %}



<body>
    <!-- ##### Breadcumb Area Start ##### -->
    <section class="breadcumb-area bg-img d-flex align-items-center justify-content-center" style="background-image: url();">
        <div class="bradcumbContent">
            <h2>News</h2>
        </div>
    </section>
    <!-- ##### Breadcumb Area End ##### -->

    <!-- ##### Book Now Area Start ##### -->
    <div class="book-now-area">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-12 col-lg-14">
                    <div class="book-now-form">
                        <form action="#" method='POST'>
                            {% csrf_token %}
                            <!-- Form Group -->
                            

                            <!-- Button -->
                            
                            <button type="submit" >Book Now</button>
                            
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ##### Book Now Area End ##### -->

    <!-- ##### Blog Area Start ##### -->
    <div class="blog-area section-padding-0-100">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="palatin-blog-posts">

                        <!-- ##### Single Blog Post ##### -->
                        <div class="single-blog-post mb-100 wow fadeInUp" data-wow-delay="100ms">
                            <!-- Post Thumb -->
                            <div class="bg-thumbnail" style="background-image: url();">
                                <img src="" alt="">
                            </div>

                            <div class="post-content">
                                <a href="#" id="room-created-at" class="post-date btn palatin-btn"></a>
                                <a href="#" id ="room-name"></a>
                                <a href="#" id="room-hotel"></a>
                                <p id="room-description"></p>
                                <div class="post-meta d-flex justify-content-center">
                                    <a href="#" class="post-comments">3 comments</a> 
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- ##### Blog Area End ##### -->
</body>


<script>
document.addEventListener("DOMContentLoaded", function() {
    const roomId = window.location.pathname.split("/").filter(Boolean).pop();
    fetch(`/api/rooms/${roomId}/`)
        .then(response => response.json())
        .then(data => {
            const room = data.data;
            let createdAt = new Date(room.created_at);  
            let formattedDate = createdAt.getDate() + "/" + (createdAt.getMonth() + 1) + "/" + createdAt.getFullYear();
            document.getElementById("room-created-at").innerText = formattedDate;
            document.getElementById("room-name").innerText = room.name;
            document.getElementById("room-hotel").innerText = room.hotel.name;
            document.getElementById("room-description").innerText = room.description;
            document.querySelector(".bg-thumbnail img").src = room.image;
        })
        .catch(error => console.error("Error fetching room:", error));
});
</script>
{% endblock body %}





